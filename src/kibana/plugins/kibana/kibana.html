<kbn-notifications list="notifList"></kbn-notifications>
<div class="content" style="display: none;">
  <nav ng-class="{show: appEmbedded === false}" bindonce class="hide navbar navbar-inverse navbar-static-top">
    <div class="navbar-header">
      <button ng-click="showCollapsed = !showCollapsed" type="button" class="navbar-toggle">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand visible-xs">{{ activeApp.name }}
        <span ng-show="httpActive.length" class="spinner"></span>
      </span>
    </div>

    <!-- Full navbar -->
    <div collapse="!showCollapsed" class="navbar-collapse" id="kibana-primary-navbar">
       <ul class="nav navbar-nav" role="navigation">
        <li aria-label="Kibana Barcode Logo" class="logo hidden-xs"></li>
          <li ng-repeat="app in apps.inOrder | filter:{show: true}" ng-class="{active: (app.hover && app.subitems ) || (activeApp === app && !appMenuHover.subitems && !subheadingHover), activeApp: activeApp === app}" ng-style="{float: app.iconFloat}" ng-mouseenter="app.hover = true; $parent.appMenuHover = app; setTabPosition($event);" ng-mouseleave="app.hover = false; $parent.appMenuHover = false;">
          <a ng-href="#{{app === activeApp ? app.rootPath : app.lastPath}}" >
             <i ng-style="{ 'margin-right': app.name ? '10px' : '0', 'font-size': app.name ? '14px' : '16px' }" aria-hidden="true" class="fa" ng-if="app.icon" ng-class=" app.icon ? ('fa-' + app.icon) : (app === activeApp ? 'fa-circle' : 'fa-circle-o') "></i>{{app.name}}
             <span ng-if="app.notifications > 0" class="zeus-notification-bubble">{{app.notifications}}</span>
          </a>
        </li>
      </ul>

      <ul ng-if="setupComplete" ng-show="timefilter.enabled" class="nav navbar-nav navbar-right navbar-timepicker">
        <li>
          <a  ng-click="toggleRefresh()"
              ng-show="timefilter.refreshInterval.value > 0">
            <i class="fa" ng-class="timefilter.refreshInterval.pause ? 'fa-play' : 'fa-pause'"></i>
          </a>
        </li>

        <li ng-class="{active: timefilter.timepickerActiveTab === 'interval'}"
            ng-show="timefilter.refreshInterval.value > 0 || timefilter.timepickerActiveTab"
            class="to-body">
          <a ng-click="toggleTimepicker('interval')"
              class="navbar-timepicker-auto-refresh-desc">
            <span ng-show="timefilter.refreshInterval.value === 0"><i class="fa fa-repeat"></i> Auto-refresh</span>
            <span ng-show="timefilter.refreshInterval.value > 0">{{timefilter.refreshInterval.display}}</span>
          </a>
        </li>

        <li class="to-body" ng-class="{active: timefilter.timepickerActiveTab === 'filter'}">
          <a  ng-click="toggleTimepicker('filter')" aria-haspopup="true" aria-expanded="false" class="navbar-timepicker-time-desc">
            <i aria-hidden="true" class="fa fa-clock-o"></i>
            <pretty-duration from="timefilter.time.from" to="timefilter.time.to"></pretty-duration>
          </a>
        </li>
      </ul>

      <ul class="nav navbar-nav navbar-right navbar-timepicker" >
        <li ng-show="httpActive.length" class="navbar-text hidden-xs">
          <div class="spinner"></div>
        </li>
      </ul>
      <!-- /Full navbar -->
    </div>
  </nav>

  <nav ng-repeat="app in apps.inOrder | filter:{show: true}" ng-if="app.subitems.length > 0" ng-show="(app.hover && app.subitems) || (activeApp === app && appMenuHover.subitems === undefined && activeApp.hideSubsWhenActive !== true);" ng-mouseenter="app.hover = true; $parent.appMenuHover = app; tabHover(app)" ng-mouseleave="app.hover = false; $parent.appMenuHover = false;subheadingHover = false; mouseLeave(app)" class="navbar navbar-default navbar-static-top subnav" style="position: absolute; top: 45px; left: 0; right: 0; z-index: {{app.hover ? '100' : '1'}}">
    <div class="container-fluid navbar">
      <ul id="{{app.id}}" class="nav navbar-nav nav-subTitle">
        <li ng-if="app.subTitle" class="title name" style="font-weight: bolder; color: white; font-size: 18px; vertical-align: middle; margin: 8px 15px;">{{app.subTitle}}</li>
        <li ng-repeat="submenu in app.subitems" >
          <a class="navbar-link" ng-href="{{submenu.url}}" ng-class="submenu.class">{{submenu.display}}</a>
      </ul>
    </div>
  </nav>

  <config
    ng-show="timefilter.enabled"
    config-template="globalConfigTemplate"
    config-object="timefilter"
    config-close="toggleTimepicker">
  </config>


  <div class="application" ng-view></div>
</div>
